!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=42)}({42:function(t,e,a){t.exports=a(43)},43:function(t,e,a){"use strict";var n;n=jQuery,void 0!==window.vc&&(window.YPTabsView=vc.shortcode_view.extend({new_tab_adding:!1,events:{"click .add_tab":"addTab","click > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .vc_control-btn-clone":"clone"},initialize:function(t){window.YPTabsView.__super__.initialize.call(this,t),_.bindAll(this,"stopSorting")},render:function(){return window.YPTabsView.__super__.render.call(this),this.$tabs=this.$el.find(".wpb_tabs_holder"),this.$tabs.find(".tab-pane").remove(),this.createAddTabButton(),this},ready:function(t){window.YPTabsView.__super__.ready.call(this,t)},createAddTabButton:function(){var t=+new Date+"-"+Math.floor(11*Math.random());this.$tabs.append('<div id="new-tab-'+t+'" class="new_element_button"></div>'),this.$add_button=n('<li class="add_tab_block"><a href="#new-tab-'+t+'" class="add_tab" title="'+window.i18nLocale.add_tab+'">+</a></li>').appendTo(this.$tabs.find(".tabs_controls"))},addTab:function(t){if(t.preventDefault(),!this.hasUserAccess())return!1;this.new_tab_adding=!0;var e=window.i18nLocale.tab,a=this.$tabs.find("[data-element_type=yp_tab]").length,n=+new Date+"-"+a+"-"+Math.floor(11*Math.random());return vc.shortcodes.create({shortcode:"yp_tab",params:{title:e,tab_id:n},parent_id:this.model.id}),!1},stopSorting:function(t,e){var a;this.$tabs.find("ul.tabs_controls li:not(.add_tab_block)").each(function(t){n(this).find("a").attr("href").replace("#",""),a=vc.shortcodes.get(n("[id="+n(this).attr("aria-controls")+"]").data("model-id")),vc.storage.lock(),a.save({order:n(this).index()})}),a&&a.save()},changedContent:function(t){var e=t.model.get("params");if(this.$tabs.hasClass("ui-tabs")||(this.$tabs.tabs({select:function(t,e){return!n(e.tab).hasClass("add_tab")}}),this.$tabs.find(".ui-tabs-nav").prependTo(this.$tabs),this.hasUserAccess()&&this.$tabs.find(".ui-tabs-nav").sortable({axis:"vc_tour"==this.$tabs.closest("[data-element_type]").data("element_type")?"y":"x",update:this.stopSorting,items:"> li:not(.add_tab_block)"})),!0===t.model.get("cloned")){t.model.get("cloned_from");var a=n(".tabs_controls > .add_tab_block",this.$content),i=n("<li><a href='#tab-"+e.tab_id+"'>"+e.title+"</a></li>").insertBefore(a);this.$tabs.tabs("refresh"),this.$tabs.tabs("option","active",i.index())}else n("<li><a href='#tab-"+e.tab_id+"'>"+e.title+"</a></li>").insertBefore(this.$add_button),this.$tabs.tabs("refresh"),this.$tabs.tabs("option","active",this.new_tab_adding?n(".ui-tabs-nav li",this.$content).length-2:0);this.new_tab_adding=!1},cloneModel:function(t,e,a){var n,i,o,s;return n=_.isBoolean(a)&&!0===a?t.get("order"):parseFloat(t.get("order"))+vc.clone_index,o=_.extend({},t.get("params")),"yp_tab"===(s=t.get("shortcode"))&&_.extend(o,{tab_id:+new Date+"-"+this.$tabs.find("[data-element-type=yp_tab]").length+"-"+Math.floor(11*Math.random())}),i=vc.shortcodes.create({shortcode:s,id:vc_guid(),parent_id:e,order:n,cloned:"yp_tab"!==s,cloned_from:t.toJSON(),params:o}),_.each(vc.shortcodes.where({parent_id:t.id}),function(t){this.cloneModel(t,i.get("id"),!0)},this),i}}),window.YPTabView=window.VcColumnView.extend({events:{"click > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .vc_control-btn-prepend":"addElement","click > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .vc_control-btn-clone":"clone","click > .wpb_element_wrapper > .vc_empty-container":"addToEmpty"},render:function(){var t=this.model.get("params");return window.YPTabView.__super__.render.call(this),t.tab_id||(t.tab_id=+new Date+"-"+Math.floor(11*Math.random()),this.model.save("params",t)),this.id="tab-"+t.tab_id,this.$el.attr("id",this.id),this},ready:function(t){return window.YPTabView.__super__.ready.call(this,t),this.$tabs=this.$el.closest(".wpb_tabs_holder"),this.model.get("params"),this},changeShortcodeParams:function(t){var e;window.YPTabView.__super__.changeShortcodeParams.call(this,t),e=t.get("params"),_.isObject(e)&&_.isString(e.title)&&_.isString(e.tab_id)&&n('.ui-tabs-nav [href="#tab-'+e.tab_id+'"]').text(e.title)},deleteShortcode:function(t){_.isObject(t)&&t.preventDefault();var e=confirm(window.i18nLocale.press_ok_to_delete_section),a=this.model.get("parent_id");if(!0!==e)return!1;if(this.model.destroy(),!vc.shortcodes.where({parent_id:a}).length)return vc.shortcodes.get(a).destroy(),!1;var i=this.model.get("params"),o=n('[href="#tab-'+i.tab_id+'"]',this.$tabs).parent().index();n('[href="#tab-'+i.tab_id+'"]').parent().remove();var s=this.$tabs.find(".ui-tabs-nav li:not(.add_tab_block)").length;s>0&&this.$tabs.tabs("refresh"),o<s?this.$tabs.tabs("option","active",o):s>0&&this.$tabs.tabs("option","active",s-1)},cloneModel:function(t,e,a){var n,i,o,s;return n=_.isBoolean(a)&&!0===a?t.get("order"):parseFloat(t.get("order"))+vc.clone_index,o=_.extend({},t.get("params")),"yp_tab"===(s=t.get("shortcode"))&&_.extend(o,{tab_id:+new Date+"-"+this.$tabs.find("[data-element_type=yp_tab]").length+"-"+Math.floor(11*Math.random())}),i=vc.shortcodes.create({shortcode:s,parent_id:e,order:n,cloned:!0,cloned_from:t.toJSON(),params:o}),_.each(vc.shortcodes.where({parent_id:t.id}),function(t){this.cloneModel(t,i.get("id"),!0)},this),i}}))}});